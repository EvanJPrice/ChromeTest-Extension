<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Blocker Settings</title>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color: #f0f7ff;
      --container-bg: #ffffff;
      --text-color: #1e293b;
      --input-bg: #f8fafc;
      --input-border: #dde8f5;
      --input-text: #1e293b;
      --primary-blue: #234b7a;
      --border-color: #dde8f5;
      --neutral-border: #64748b;
      --neutral-text: #64748b;
      --neutral-hover: #f1f5f9;
      --dashboard-link-border: #dde8f5;
      --dashboard-btn-bg: #eff6ff;
      --dashboard-btn-text: #2563eb;
      --dashboard-btn-border: #dbeafe;
      --dashboard-btn-hover: #dbeafe;
      --link-color: #2563eb;
      --link-hover: #1d4ed8;
      --status-success: #166534;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg-color: #0f172a;
        --container-bg: #1e293b;
        --text-color: #f8fafc;
        --input-bg: #020617;
        --input-border: #334155;
        --input-text: #f8fafc;
        --primary-blue: #3b82f6;
        --border-color: #334155;
        --neutral-border: #94a3b8;
        --neutral-text: #94a3b8;
        --neutral-hover: #334155;
        --dashboard-link-border: #334155;
        --dashboard-btn-bg: #1e293b;
        --dashboard-btn-text: #60a5fa;
        --dashboard-btn-border: #3b82f6;
        --dashboard-btn-hover: #334155;
        --link-color: #60a5fa;
        --link-hover: #93c5fd;
        --status-success: #4ade80;
      }
    }

    body[data-theme='dark'],
    html[data-theme='dark'] {
      --bg-color: #0f172a;
      --container-bg: #1e293b;
      --text-color: #f8fafc;
      --input-bg: #020617;
      --input-border: #334155;
      --input-text: #f8fafc;
      --primary-blue: #3b82f6;
      --border-color: #334155;
      --neutral-border: #94a3b8;
      --neutral-text: #94a3b8;
      --neutral-hover: #334155;
      --dashboard-link-border: #334155;
      --dashboard-btn-bg: #1e293b;
      --dashboard-btn-text: #60a5fa;
      --dashboard-btn-border: #3b82f6;
      --dashboard-btn-hover: #334155;
      --link-color: #60a5fa;
      --link-hover: #93c5fd;
      --status-success: #4ade80;
      background-color: var(--container-bg);
      color: var(--text-color);
    }

    body[data-theme='light'],
    html[data-theme='light'] {
      --bg-color: #f0f7ff;
      --container-bg: #ffffff;
      --text-color: #1e293b;
      --input-bg: #f8fafc;
      --input-border: #dde8f5;
      --input-text: #1e293b;
      --primary-blue: #234b7a;
      --border-color: #dde8f5;
      --neutral-border: #64748b;
      --neutral-text: #64748b;
      --neutral-hover: #f1f5f9;
      --dashboard-link-border: #dde8f5;
      --dashboard-btn-bg: #eff6ff;
      --dashboard-btn-text: #2563eb;
      --dashboard-btn-border: #dbeafe;
      --dashboard-btn-hover: #dbeafe;
      --link-color: #2563eb;
      --link-hover: #1d4ed8;
      --status-success: #166534;
      background-color: var(--container-bg);
      color: var(--text-color);
    }


    body {
      font-family: 'IBM Plex Mono', monospace, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background-color: var(--container-bg);
      color: var(--text-color);
      width: 400px;
      margin: 0;
      padding: 20px 30px;
      box-sizing: border-box;
    }

    .container {
      width: 100%;
      text-align: center;
      background-color: transparent;
      padding: 0;
      border-radius: 0;
      box-shadow: none;
    }

    input {
      width: 100%;
      padding: 8px;
      box-sizing: border-box;
      border: 1px solid var(--input-border);
      background-color: var(--input-bg);
      color: var(--input-text);
      border-radius: 4px;
      font-family: inherit;
    }

    .button-group {
      margin-top: 15px;
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    button {
      padding: 8px 16px;
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-family: inherit;
    }

    /* --- Destructive Button --- */
    .destructive-button {
      background: transparent;
      border: 1px solid #ef4444;
      color: #ef4444;
      padding: 8px 16px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    .destructive-button:hover {
      background-color: rgba(239, 68, 68, 0.1);
      transform: translateY(-1px);
    }

    .destructive-button.confirming {
      background-color: #dc2626;
      color: white;
      border-color: #dc2626;
    }

    .destructive-button.confirming:hover {
      background-color: #b91c1c;
      border-color: #b91c1c;
      transform: none;
    }

    /* --- Neutral Button --- */
    .neutral-button {
      background: transparent;
      border: 1px solid var(--neutral-border);
      color: var(--neutral-text);
      padding: 8px 16px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    .neutral-button:hover {
      background-color: var(--neutral-hover);
      transform: translateY(-1px);
    }

    .neutral-button.confirming {
      background-color: #64748b;
      color: white;
      border-color: #64748b;
    }

    .neutral-button.confirming:hover {
      background-color: #475569;
      border-color: #475569;
      transform: none;
    }

    /* --- Primary Button --- */
    .primary-button {
      background-color: var(--primary-blue);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    .primary-button:hover {
      opacity: 0.9;
      transform: translateY(-1px);
    }

    /* --- Pause/Resume Button States --- */
    #pause-btn.pause-state {
      border-color: #f59e0b;
      color: #b45309;
    }
    #pause-btn.pause-state:hover {
      background-color: rgba(234, 179, 8, 0.1);
    }

    #pause-btn.resume-state {
      border-color: #22c55e;
      color: #15803d;
      background-color: rgba(34, 197, 94, 0.05);
    }
    #pause-btn.resume-state:hover {
      background-color: rgba(34, 197, 94, 0.15);
    }

    #pause-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .status-success-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 15px;
      padding: 10px;
      background-color: var(--container-bg);
      border-radius: 6px;
      animation: fadeIn 0.3s ease;
    }

    .status-icon {
      width: 18px;
      height: 18px;
      fill: var(--status-success);
    }

    .status-text {
      color: var(--status-success);
      font-weight: 600;
      font-size: 0.95rem;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-5px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    #status {
      margin-top: 10px;
      min-height: 40px;
    }

    /* --- Link Button --- */
    .link-button {
      background: none;
      border: none;
      padding: 0;
      cursor: pointer;
      color: var(--link-color);
      text-decoration: underline;
      font-size: inherit;
      font-family: inherit;
      transition: color 0.2s ease;
    }

    .link-button:hover {
      color: var(--link-hover);
    }

    .dashboard-link {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid var(--dashboard-link-border);
    }

    #dashboard-btn {
      width: 100%;
      background-color: var(--dashboard-btn-bg) !important;
      color: var(--dashboard-btn-text) !important;
      border: 1px solid var(--dashboard-btn-border) !important;
      font-weight: 500;
    }

    #dashboard-btn:hover {
      background-color: var(--dashboard-btn-hover) !important;
    }
  </style>
</head>

<body>
  <div class="container">
    <img src="logo-128.png" alt="Beacon Blocker Logo"
      style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 8px; object-fit: cover;">
    <h2 style="margin-top: 0; font-size: 1.5rem; margin-bottom: 20px;">Beacon Blocker</h2>

    <div id="auth-section">
      <!-- Content injected by JS -->
    </div>

    <div id="pause-section" style="display:none; margin-bottom: 12px;">
      <button id="pause-btn" class="neutral-button">Pause Blocking</button>
    </div>

    <div class="button-group">
      <button id="login-btn" class="primary-button" style="display:none;">Log In</button>
      <button id="logout-btn" class="destructive-button" style="display:none;">Sign Out</button>
      <button id="clear-cache" class="neutral-button">Clear Cache</button>
    </div>

    <div id="status"></div>

    <div class="dashboard-link">
      <button id="dashboard-btn"
        style="width: 100%; background-color: var(--dashboard-btn-bg); color: var(--dashboard-btn-text); border: 1px solid var(--dashboard-btn-border); font-weight: 500;">
        Open Dashboard
      </button>
      <div style="margin-top: 10px; font-size: 0.8rem;">
        <a href="#" id="report-bug-link" class="link-button">Report a Bug</a>
        <span style="color: var(--neutral-text);"> Â· </span>
        <a href="#" id="feature-idea-link" class="link-button">Suggest a Feature</a>
      </div>
    </div>

    <div id="version-label" style="margin-top: 10px; font-size: 0.7rem; color: var(--neutral-text); opacity: 0.6; text-align: center;"></div>
  </div>

  <script src="config.js"></script>
  <script src="options.js"></script>
</body>

</html>
